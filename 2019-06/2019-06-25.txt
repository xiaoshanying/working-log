分布式锁
    把整个集群当成一个应用一样去处理,那么也就需要这把锁独立于每隔服务之外,而不是在服务里面。

    实现:
    redis分布式锁, zk分布式锁

    redis单线程,这里的单线程是指网络请求模块使用了一个线程.(所以不需要考虑并发的安全性)
    一个线程处理网络请求,其他模块仍是多线程


    zk创建临时顺序节点,来做分布式锁,临时节点断开,服务端对应znode会删除,每一个机器监听前一个临时节点

